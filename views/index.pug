doctype html
html
  head
    title HitMe Prototype
    meta(http-equiv= "Content-Type" content= "text/html; charset=UTF-8")
    meta(name= "viewport" content= "width=device-width, initial-scale=1.0")
    script(type="application/javascript" src="/lib/socket.io.slim.js")
    script(type="application/javascript" src="lib/three.js")
    script(type="application/javascript" src="lib/OrbitControls.js")
    script(type="application/javascript" src="lib/dat.gui.min.js")
    style(type="text/css").
      body { margin: 0; padding: 0 }
      canvas { width: 100%; height: 100%; margin:0; }
  body
    script(type="x-shader/x-vertex" id="vshader").
      #ifdef GL_ES
      precision mediump float;
      #endif

      uniform float scale;
      attribute vec3 displacement;
      attribute float pointSize;

      void main () {
        gl_PointSize = pointSize;
        vec3 newPosition = position + displacement * scale;
        gl_Position = projectionMatrix
          * modelViewMatrix
          * vec4( newPosition, 1.0 );
      }
    script(type="x-shader/x-fragment" id="fshader").
      #ifdef GL_ES
      precision mediump float;
      #endif

      uniform float u_time;
      vec3 colorA = vec3(0.1, 0.46, 0.82);
      vec3 colorB = vec3(0.85, 0.26, 0.08);

      void main () {
        float mixValue = abs( sin( u_time * 0.4 ) );
        vec3 color = mix( colorA, colorB, mixValue );
        gl_FragColor = vec4( color, .9 );
      }
    script(type="application/javascript" src= controller)
    script(type="application/javascript" src="/controllers/socketio.js")
